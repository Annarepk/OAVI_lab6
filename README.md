# OAVI_lab6
_Сегментация текста_

### Вариант 18

**Турецкие сточные буквы**

Была поставлена следующая задача:

1. Пользуясь выбранным алфавитом и теми же параметрами шрифта, подготовить в
Microsoft Word романтическую фразу, которая ещё не раз пригодится в жизни.
Сделать скриншот и сохранить в монохромный файл *.bmp, так чтобы вокруг
строки не было белого фона.

2. Реализовать алгоритм расчёта горизонтального и вертикального профиля
изображения.

3. Реализовать алгоритм сегментации символов в строке на основе профилей с
прореживанием. В результате работы алгоритма возвращается массив с
координатами обрамляющих символы прямоугольников, упорядоченные в порядке
чтения слева направо, сверху вниз. Продемонстрировать либо вырезанные буквы,
либо нарисовать окаймляющие прямоугольники.

4. Построить профили символов выбранного алфавита.
***

## Функции

Функции для третьей части данной задачи находятся в файле `segmentation.py`.

- `binImg(filename: str, resultFilename: str)`
    > Преобразует изображение в монохромное, предварительно обрезав лишние поля.
    >
    > _ПАРАМЕТРЫ:_
    >    * **filename** - Имя файла с исходным изображением.
    >    * **resultFilename** - Имя файла для сохранения результирующего монохромного изображения.

- `profiles(filename: str, profileFilename: str)`
    > Вычисляет и визуализирует горизонтальный и вертикальный профили изображения.
    >
    > _ПАРАМЕТРЫ:_
    >    * **filename** - Имя файла изображения.
    >    * **profileFilename** - Имя файла для сохранения графика профилей.
    >
    > _ВОЗВРАЩАЕТ:_
    >    * **profileX**: Горизонтальный профиль изображения.
    >    * **profileY**: Вертикальный профиль изображения.

- `segmentation(filename: str, hProfile: list, vProfile: list)`
    > Сегментирует текст на изображении, выделяя отдельные символы.
    >
    > _ПАРАМЕТРЫ:_
    >    * **filename** - Имя файла изображения.
    >    * **hProfile** - Горизонтальный профиль изображения.
    >    * **vProfile** - Вертикальный профиль изображения.

- `imgChar(char: str, fontPath: str, fontSize: int, folder: str)`
    > Создает изображение символа заданным шрифтом, размером и сохраняет в указанную папку. Обрезает лишние поля вокруг символа.
    >
    > _ПАРАМЕТРЫ:_
    >    * **char** - Символ для создания изображения.
    >    * **fontPath** - Путь к файлу шрифта (TTF).
    >    * **fontSize** - Размер шрифта.
    >    * **folder** - Папка для сохранения изображения символа в формате BMP.

- `characterProfiles(filename: str, char: str)`
    > Вычисляет и визуализирует профили X и Y для заданного символа.
    >
    > _ПАРАМЕТРЫ:_
    >    * **filename** - Имя файла изображения символа.
    >    * **char** - Символ, для которого вычисляются профили.
    >
    > _РЕЗУЛЬТАТ:_
    >    * Создает и сохраняет изображение с профилями X и Y символа в папку "profiles" с именем `<char>Profile.png`.

---

# Работа программы

## Бинаризованная картинка текста

<img src="textBin.bmp" height="100">

### Профили текста

<img src="textProf.png" width="1000">

### Сегментированный текст

<img src="textSegm.png" height="100">

### Профили

<table>
  <tr>
    <td><img src="letters/f.bmp" height="100"></td>
    <td><img src="profiles/fProfile.png" height="300"></td>
  </tr>
</table>

<table>
  <tr>
    <td><img src="letters/ğ.bmp" height="100"></td>
    <td><img src="profiles/ğProfile.png" height="300"></td>
  </tr>
</table>

<table>
  <tr>
    <td><img src="letters/ö.bmp" height="100"></td>
    <td><img src="profiles/öProfile.png" height="300"></td>
  </tr>
</table>

<table>
  <tr>
    <td><img src="letters/ş.bmp" height="100"></td>
    <td><img src="profiles/şProfile.png" height="300"></td>
  </tr>
</table>

<table>
  <tr>
    <td><img src="letters/ü.bmp" height="100"></td>
    <td><img src="profiles/üProfile.png" height="300"></td>
  </tr>
</table>

